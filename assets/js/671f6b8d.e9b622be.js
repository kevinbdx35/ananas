"use strict";(self.webpackChunkcoursess=self.webpackChunkcoursess||[]).push([[7384],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return d}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=a.createContext({}),o=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=o(e.components);return a.createElement(p.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,s=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=o(t),d=r,k=u["".concat(p,".").concat(d)]||u[d]||m[d]||s;return t?a.createElement(k,i(i({ref:n},c),{},{components:t})):a.createElement(k,i({ref:n},c))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var s=t.length,i=new Array(s);i[0]=u;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var o=2;o<s;o++)i[o]=t[o];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},5155:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return l},contentTitle:function(){return p},metadata:function(){return o},toc:function(){return c},default:function(){return u}});var a=t(7462),r=t(3366),s=(t(7294),t(3905)),i=["components"],l={sidebar_position:2},p="NPM - Node Package Manager \ud83d\udce6",o={unversionedId:"back-end/npm",id:"back-end/npm",title:"NPM - Node Package Manager \ud83d\udce6",description:"NPM (Node Package Manager) est l'\xe9cosyst\xe8me de packages JavaScript le plus grand au monde. C'est un outil essentiel pour tout d\xe9veloppeur JavaScript qui permet d'installer, g\xe9rer et partager des millions de packages open source.",source:"@site/docs/back-end/npm.md",sourceDirName:"back-end",slug:"/back-end/npm",permalink:"/ananas/docs/back-end/npm",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/back-end/npm.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"D\xe9veloppement Back-end \u2699\ufe0f",permalink:"/ananas/docs/back-end/"},next:{title:"Flutter",permalink:"/ananas/docs/flutter/"}},c=[{value:"\ud83c\udfaf Qu&#39;est-ce que NPM ?",id:"-quest-ce-que-npm-",children:[{value:"Statistiques impressionnantes",id:"statistiques-impressionnantes",children:[],level:3}],level:2},{value:"\ud83d\ude80 Installation et premiers pas",id:"-installation-et-premiers-pas",children:[{value:"V\xe9rifier l&#39;installation",id:"v\xe9rifier-linstallation",children:[],level:3},{value:"Initialiser un projet",id:"initialiser-un-projet",children:[],level:3}],level:2},{value:"\ud83d\udcc4 Le fichier package.json",id:"-le-fichier-packagejson",children:[{value:"Structure compl\xe8te",id:"structure-compl\xe8te",children:[],level:3},{value:"Explication des champs importants",id:"explication-des-champs-importants",children:[],level:3}],level:2},{value:"\ud83d\udcda Gestion des d\xe9pendances",id:"-gestion-des-d\xe9pendances",children:[{value:"Installation de packages",id:"installation-de-packages",children:[],level:3},{value:"Gestion des versions",id:"gestion-des-versions",children:[],level:3},{value:"Versioning s\xe9mantique (SemVer)",id:"versioning-s\xe9mantique-semver",children:[],level:3}],level:2},{value:"\ud83d\udd12 Security et audit",id:"-security-et-audit",children:[],level:2},{value:"\ud83d\udcdd Scripts NPM",id:"-scripts-npm",children:[{value:"Scripts de base",id:"scripts-de-base",children:[],level:3},{value:"Scripts avanc\xe9s",id:"scripts-avanc\xe9s",children:[],level:3},{value:"Hooks de cycle de vie",id:"hooks-de-cycle-de-vie",children:[],level:3}],level:2},{value:"\ud83d\udd27 Configuration NPM",id:"-configuration-npm",children:[{value:"Fichier .npmrc",id:"fichier-npmrc",children:[],level:3},{value:"Variables d&#39;environnement",id:"variables-denvironnement",children:[],level:3}],level:2},{value:"\ud83d\udcca NPM avanc\xe9",id:"-npm-avanc\xe9",children:[{value:"Cache NPM",id:"cache-npm",children:[],level:3},{value:"Liens locaux (npm link)",id:"liens-locaux-npm-link",children:[],level:3},{value:"Workspaces (monorepo)",id:"workspaces-monorepo",children:[],level:3}],level:2},{value:"\ud83d\ude80 Publication de packages",id:"-publication-de-packages",children:[{value:"Pr\xe9parer la publication",id:"pr\xe9parer-la-publication",children:[],level:3},{value:"Publier un package",id:"publier-un-package",children:[],level:3},{value:"Gestion des versions",id:"gestion-des-versions-1",children:[],level:3}],level:2},{value:"\ud83d\udd0d Alternatives \xe0 NPM",id:"-alternatives-\xe0-npm",children:[{value:"Yarn",id:"yarn",children:[],level:3},{value:"pnpm",id:"pnpm",children:[],level:3}],level:2},{value:"\ud83c\udfaf Bonnes pratiques",id:"-bonnes-pratiques",children:[{value:"Structure de projet",id:"structure-de-projet",children:[],level:3},{value:"Fichier .npmignore",id:"fichier-npmignore",children:[],level:3},{value:"Scripts de qualit\xe9",id:"scripts-de-qualit\xe9",children:[],level:3}],level:2},{value:"\ud83d\udee0\ufe0f Outils utiles",id:"\ufe0f-outils-utiles",children:[{value:"Packages de d\xe9veloppement essentiels",id:"packages-de-d\xe9veloppement-essentiels",children:[],level:3},{value:"Packages production populaires",id:"packages-production-populaires",children:[],level:3}],level:2},{value:"\ud83d\udc1b D\xe9pannage courant",id:"-d\xe9pannage-courant",children:[{value:"Probl\xe8mes fr\xe9quents",id:"probl\xe8mes-fr\xe9quents",children:[],level:3},{value:"Commandes de diagnostic",id:"commandes-de-diagnostic",children:[],level:3}],level:2},{value:"\ud83c\udfaf Exercices pratiques",id:"-exercices-pratiques",children:[{value:"Exercice 1 : Cr\xe9er un package utilitaire",id:"exercice-1--cr\xe9er-un-package-utilitaire",children:[],level:3},{value:"Exercice 2 : Script de build complexe",id:"exercice-2--script-de-build-complexe",children:[],level:3},{value:"Exercice 3 : Workspace monorepo",id:"exercice-3--workspace-monorepo",children:[],level:3}],level:2},{value:"\ud83d\udd17 Ressources utiles",id:"-ressources-utiles",children:[],level:2}],m={toc:c};function u(e){var n=e.components,t=(0,r.Z)(e,i);return(0,s.kt)("wrapper",(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"npm---node-package-manager-"},"NPM - Node Package Manager \ud83d\udce6"),(0,s.kt)("p",null,"NPM (Node Package Manager) est l'\xe9cosyst\xe8me de packages JavaScript le plus grand au monde. C'est un outil essentiel pour tout d\xe9veloppeur JavaScript qui permet d'installer, g\xe9rer et partager des millions de packages open source."),(0,s.kt)("h2",{id:"-quest-ce-que-npm-"},"\ud83c\udfaf Qu'est-ce que NPM ?"),(0,s.kt)("p",null,"NPM est \xe0 la fois :"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Un registre en ligne")," - La plus grande base de donn\xe9es de packages JavaScript"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Un outil en ligne de commande")," - Pour installer et g\xe9rer les packages"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Un gestionnaire de d\xe9pendances")," - Pour organiser et versionner les packages")),(0,s.kt)("h3",{id:"statistiques-impressionnantes"},"Statistiques impressionnantes"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Plus de ",(0,s.kt)("strong",{parentName:"li"},"2 millions de packages")," disponibles"),(0,s.kt)("li",{parentName:"ul"},"Plus de ",(0,s.kt)("strong",{parentName:"li"},"30 milliards de t\xe9l\xe9chargements")," par mois"),(0,s.kt)("li",{parentName:"ul"},"Utilis\xe9 par plus de ",(0,s.kt)("strong",{parentName:"li"},"17 millions de d\xe9veloppeurs")," dans le monde")),(0,s.kt)("h2",{id:"-installation-et-premiers-pas"},"\ud83d\ude80 Installation et premiers pas"),(0,s.kt)("h3",{id:"v\xe9rifier-linstallation"},"V\xe9rifier l'installation"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# V\xe9rifier la version de Node.js\nnode --version\n# v18.17.0\n\n# V\xe9rifier la version de NPM\nnpm --version\n# 9.8.1\n\n# Obtenir de l'aide\nnpm help\nnpm help install  # Aide sp\xe9cifique \xe0 une commande\n")),(0,s.kt)("h3",{id:"initialiser-un-projet"},"Initialiser un projet"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Cr\xe9er un nouveau projet avec assistant interactif\nnpm init\n\n# Cr\xe9er rapidement avec des valeurs par d\xe9faut\nnpm init -y\n\n# Cr\xe9er avec un template sp\xe9cifique\nnpm init react-app mon-app\nnpm init vue@latest mon-app\nnpm init svelte@latest mon-app\n")),(0,s.kt)("h2",{id:"-le-fichier-packagejson"},"\ud83d\udcc4 Le fichier package.json"),(0,s.kt)("p",null,"Le ",(0,s.kt)("inlineCode",{parentName:"p"},"package.json")," est le ",(0,s.kt)("strong",{parentName:"p"},"c\u0153ur")," de tout projet Node.js. Il contient toutes les informations sur le projet et ses d\xe9pendances."),(0,s.kt)("h3",{id:"structure-compl\xe8te"},"Structure compl\xe8te"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "mon-projet-awesome",\n  "version": "1.2.3",\n  "description": "Un projet incroyable qui change le monde",\n  "main": "index.js",\n  "type": "module",\n  "engines": {\n    "node": ">=16.0.0",\n    "npm": ">=8.0.0"\n  },\n  "scripts": {\n    "start": "node server.js",\n    "dev": "nodemon server.js",\n    "build": "webpack --mode production",\n    "test": "jest",\n    "test:watch": "jest --watch",\n    "lint": "eslint src/",\n    "lint:fix": "eslint src/ --fix",\n    "format": "prettier --write src/",\n    "prepare": "husky install",\n    "deploy": "npm run build && gh-pages -d dist"\n  },\n  "keywords": [\n    "javascript",\n    "nodejs",\n    "express",\n    "api",\n    "rest"\n  ],\n  "author": {\n    "name": "Alice Dupont",\n    "email": "alice@example.com",\n    "url": "https://alice-dev.com"\n  },\n  "license": "MIT",\n  "homepage": "https://github.com/alice/mon-projet#readme",\n  "repository": {\n    "type": "git",\n    "url": "https://github.com/alice/mon-projet.git"\n  },\n  "bugs": {\n    "url": "https://github.com/alice/mon-projet/issues",\n    "email": "bugs@example.com"\n  },\n  "dependencies": {\n    "express": "^4.18.2",\n    "mongoose": "^7.5.0",\n    "dotenv": "^16.3.1",\n    "bcryptjs": "^2.4.3",\n    "jsonwebtoken": "^9.0.2",\n    "cors": "^2.8.5",\n    "helmet": "^7.0.0",\n    "morgan": "^1.10.0"\n  },\n  "devDependencies": {\n    "nodemon": "^3.0.1",\n    "jest": "^29.6.4",\n    "supertest": "^6.3.3",\n    "eslint": "^8.47.0",\n    "prettier": "^3.0.2",\n    "husky": "^8.0.3",\n    "lint-staged": "^14.0.1",\n    "@types/node": "^20.5.0"\n  },\n  "peerDependencies": {\n    "react": ">=16.8.0"\n  },\n  "optionalDependencies": {\n    "sharp": "^0.32.5"\n  },\n  "files": [\n    "dist/",\n    "lib/",\n    "README.md"\n  ],\n  "config": {\n    "port": 3000\n  },\n  "lint-staged": {\n    "*.{js,jsx,ts,tsx}": [\n      "eslint --fix",\n      "prettier --write"\n    ]\n  }\n}\n')),(0,s.kt)("h3",{id:"explication-des-champs-importants"},"Explication des champs importants"),(0,s.kt)("table",null,(0,s.kt)("thead",{parentName:"table"},(0,s.kt)("tr",{parentName:"thead"},(0,s.kt)("th",{parentName:"tr",align:null},"Champ"),(0,s.kt)("th",{parentName:"tr",align:null},"Description"),(0,s.kt)("th",{parentName:"tr",align:null},"Exemple"))),(0,s.kt)("tbody",{parentName:"table"},(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},"name")),(0,s.kt)("td",{parentName:"tr",align:null},"Nom unique du package"),(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},'"mon-super-projet"'))),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},"version")),(0,s.kt)("td",{parentName:"tr",align:null},"Version s\xe9mantique"),(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},'"1.2.3"'))),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},"main")),(0,s.kt)("td",{parentName:"tr",align:null},"Point d'entr\xe9e principal"),(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},'"index.js"'))),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},"type")),(0,s.kt)("td",{parentName:"tr",align:null},"Type de module (ESM/CommonJS)"),(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},'"module"'))),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},"scripts")),(0,s.kt)("td",{parentName:"tr",align:null},"Commandes personnalis\xe9es"),(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},'"start": "node app.js"'))),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},"dependencies")),(0,s.kt)("td",{parentName:"tr",align:null},"Packages n\xe9cessaires en production"),(0,s.kt)("td",{parentName:"tr",align:null},"Express, Mongoose")),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},"devDependencies")),(0,s.kt)("td",{parentName:"tr",align:null},"Packages n\xe9cessaires en d\xe9veloppement"),(0,s.kt)("td",{parentName:"tr",align:null},"Jest, Nodemon")),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},"engines")),(0,s.kt)("td",{parentName:"tr",align:null},"Versions Node.js/NPM support\xe9es"),(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("inlineCode",{parentName:"td"},'"node": ">=16"'))))),(0,s.kt)("h2",{id:"-gestion-des-d\xe9pendances"},"\ud83d\udcda Gestion des d\xe9pendances"),(0,s.kt)("h3",{id:"installation-de-packages"},"Installation de packages"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},'# Installer un package et l\'ajouter aux dependencies\nnpm install express\nnpm i express  # Version courte\n\n# Installer plusieurs packages\nnpm install express mongoose dotenv\n\n# Installer en tant que devDependency\nnpm install --save-dev nodemon\nnpm i -D jest eslint prettier  # Version courte\n\n# Installer globalement\nnpm install -g nodemon typescript create-react-app\n\n# Installer une version sp\xe9cifique\nnpm install express@4.18.2\nnpm install react@">=16.0.0 <17.0.0"\n\n# Installer depuis GitHub\nnpm install user/repo\nnpm install user/repo#branch\nnpm install https://github.com/user/repo.git\n\n# Installer depuis un fichier local\nnpm install ./mon-package\nnpm install /chemin/absolu/vers/package\n\n# Installer sans modifier package.json\nnpm install --no-save express\n\n# Installer seulement les dependencies (pas devDependencies)\nnpm install --production\nnpm install --only=prod\n')),(0,s.kt)("h3",{id:"gestion-des-versions"},"Gestion des versions"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Voir les packages install\xe9s\nnpm list\nnpm ls  # Version courte\nnpm ls --depth=0  # Seulement le premier niveau\nnpm ls --global  # Packages globaux\n\n# Voir les packages obsol\xe8tes\nnpm outdated\n\n# Mettre \xe0 jour les packages\nnpm update\nnpm update express  # Package sp\xe9cifique\nnpm update --save-dev  # Seulement devDependencies\n\n# Mettre \xe0 jour vers la derni\xe8re version (ignore semver)\nnpm install express@latest\n\n# D\xe9sinstaller un package\nnpm uninstall express\nnpm remove express  # Alias\nnpm rm express     # Alias court\nnpm un express     # Alias tr\xe8s court\n\n# D\xe9sinstaller globalement\nnpm uninstall -g create-react-app\n\n# Nettoyer les packages non utilis\xe9s\nnpm prune\nnpm prune --production  # Supprimer devDependencies\n")),(0,s.kt)("h3",{id:"versioning-s\xe9mantique-semver"},"Versioning s\xe9mantique (SemVer)"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},'# Format: MAJOR.MINOR.PATCH (1.2.3)\n\n# Symboles de version dans package.json\n"express": "4.18.2"     # Version exacte\n"express": "~4.18.2"    # >=4.18.2 <4.19.0 (patch updates)\n"express": "^4.18.2"    # >=4.18.2 <5.0.0 (minor + patch updates)\n"express": ">=4.18.0"   # Sup\xe9rieur ou \xe9gal\n"express": "<5.0.0"     # Inf\xe9rieur strict\n"express": "4.x"        # \xc9quivaut \xe0 ^4.0.0\n"express": "*"          # Derni\xe8re version (d\xe9conseill\xe9)\n"express": "latest"     # Derni\xe8re version (d\xe9conseill\xe9)\n\n# Plages de versions\n"express": ">=4.0.0 <5.0.0"  # Entre 4.x et 5.x (exclu)\n"express": "4.18.x"           # Toute version 4.18.x\n')),(0,s.kt)("h2",{id:"-security-et-audit"},"\ud83d\udd12 Security et audit"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# V\xe9rifier les vuln\xe9rabilit\xe9s\nnpm audit\n\n# Corriger automatiquement les vuln\xe9rabilit\xe9s\nnpm audit fix\n\n# Corriger en for\xe7ant les updates (attention !)\nnpm audit fix --force\n\n# Voir le d\xe9tail d'une vuln\xe9rabilit\xe9\nnpm audit --json\n\n# Ignorer certaines vuln\xe9rabilit\xe9s\n# Cr\xe9er .npmrc\naudit-level=high\n\n# Alternative avec yarn audit\n# (si yarn est install\xe9)\nyarn audit\nyarn audit fix\n")),(0,s.kt)("h2",{id:"-scripts-npm"},"\ud83d\udcdd Scripts NPM"),(0,s.kt)("h3",{id:"scripts-de-base"},"Scripts de base"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "scripts": {\n    "start": "node server.js",\n    "dev": "nodemon server.js",\n    "build": "webpack --mode production",\n    "test": "jest",\n    "lint": "eslint src/"\n  }\n}\n')),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Ex\xe9cuter les scripts\nnpm start\nnpm run dev\nnpm test\nnpm run build\n\n# Passer des arguments aux scripts\nnpm test -- --watch\nnpm run lint -- --fix\n\n# Voir tous les scripts disponibles\nnpm run\n")),(0,s.kt)("h3",{id:"scripts-avanc\xe9s"},"Scripts avanc\xe9s"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "scripts": {\n    // Scripts avec variables d\'environnement\n    "dev": "NODE_ENV=development nodemon server.js",\n    "prod": "NODE_ENV=production node server.js",\n    \n    // Scripts compos\xe9s\n    "build": "npm run clean && npm run compile",\n    "clean": "rm -rf dist/",\n    "compile": "babel src -d dist",\n    \n    // Scripts parall\xe8les (avec npm-run-all)\n    "dev:all": "npm-run-all --parallel dev:server dev:client",\n    "dev:server": "nodemon server.js",\n    "dev:client": "vite",\n    \n    // Scripts avec conditions\n    "postinstall": "npm run build",\n    "pretest": "npm run lint",\n    "posttest": "npm run coverage",\n    \n    // Scripts cross-platform\n    "clean:win": "if exist dist rmdir /s dist",\n    "clean:unix": "rm -rf dist",\n    "clean": "npm run clean:unix || npm run clean:win",\n    \n    // Scripts avec outils\n    "format": "prettier --write \\"src/**/*.{js,jsx,ts,tsx,json,css,md}\\"",\n    "format:check": "prettier --check \\"src/**/*.{js,jsx,ts,tsx,json,css,md}\\"",\n    "type-check": "tsc --noEmit",\n    "validate": "npm run type-check && npm run lint && npm test"\n  }\n}\n')),(0,s.kt)("h3",{id:"hooks-de-cycle-de-vie"},"Hooks de cycle de vie"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "scripts": {\n    // Hooks automatiques\n    "preinstall": "echo \'Avant installation\'",\n    "postinstall": "echo \'Apr\xe8s installation\'",\n    "prepublish": "npm run build",\n    "postpublish": "npm run deploy",\n    \n    // Hooks personnalis\xe9s\n    "prestart": "npm run build",\n    "poststart": "echo \'Serveur d\xe9marr\xe9\'",\n    "pretest": "npm run lint",\n    "posttest": "npm run coverage"\n  }\n}\n')),(0,s.kt)("h2",{id:"-configuration-npm"},"\ud83d\udd27 Configuration NPM"),(0,s.kt)("h3",{id:"fichier-npmrc"},"Fichier .npmrc"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# .npmrc global (~/.npmrc)\nregistry=https://registry.npmjs.org/\nsave-exact=true\nengine-strict=true\nfund=false\naudit-level=high\nprogress=false\n\n# Configuration sp\xe9cifique au projet (.npmrc dans le projet)\n@mycompany:registry=https://npm.mycompany.com/\nsave-prefix=~\nauto-install-peers=true\n")),(0,s.kt)("h3",{id:"variables-denvironnement"},"Variables d'environnement"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},'# Variables NPM\nNPM_CONFIG_REGISTRY=https://registry.npmjs.org/\nNPM_CONFIG_CACHE=/tmp/npm-cache\nNPM_CONFIG_PREFIX=/usr/local\n\n# Dans package.json\n{\n  "config": {\n    "port": 3000,\n    "host": "localhost"\n  }\n}\n\n# Acc\xe8s dans les scripts\n"start": "node server.js --port $npm_package_config_port"\n')),(0,s.kt)("h2",{id:"-npm-avanc\xe9"},"\ud83d\udcca NPM avanc\xe9"),(0,s.kt)("h3",{id:"cache-npm"},"Cache NPM"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Voir le cache\nnpm cache ls\n\n# Nettoyer le cache\nnpm cache clean --force\n\n# V\xe9rifier l'int\xe9grit\xe9 du cache\nnpm cache verify\n\n# Changer l'emplacement du cache\nnpm config set cache /new/cache/path\n")),(0,s.kt)("h3",{id:"liens-locaux-npm-link"},"Liens locaux (npm link)"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Dans le package \xe0 lier\ncd mon-package\nnpm link\n\n# Dans le projet qui utilise le package\ncd mon-projet\nnpm link mon-package\n\n# D\xe9lier\nnpm unlink mon-package\n")),(0,s.kt)("h3",{id:"workspaces-monorepo"},"Workspaces (monorepo)"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'// package.json racine\n{\n  "name": "mon-monorepo",\n  "workspaces": [\n    "packages/*",\n    "apps/*"\n  ],\n  "scripts": {\n    "build:all": "npm run build --workspaces",\n    "test:all": "npm test --workspaces"\n  }\n}\n')),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Installer dans tous les workspaces\nnpm install --workspaces\n\n# Installer dans un workspace sp\xe9cifique\nnpm install lodash --workspace=packages/utils\n\n# Ex\xe9cuter un script dans tous les workspaces\nnpm run build --workspaces\n\n# Ex\xe9cuter dans un workspace sp\xe9cifique\nnpm run test --workspace=packages/core\n")),(0,s.kt)("h2",{id:"-publication-de-packages"},"\ud83d\ude80 Publication de packages"),(0,s.kt)("h3",{id:"pr\xe9parer-la-publication"},"Pr\xe9parer la publication"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Se connecter \xe0 NPM\nnpm login\n\n# V\xe9rifier qui est connect\xe9\nnpm whoami\n\n# Tester le package avant publication\nnpm pack\n\n# Voir ce qui sera publi\xe9\nnpm publish --dry-run\n")),(0,s.kt)("h3",{id:"publier-un-package"},"Publier un package"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Publication normale\nnpm publish\n\n# Publication avec tag\nnpm publish --tag beta\nnpm publish --tag latest\n\n# Publication avec acc\xe8s restreint\nnpm publish --access restricted\nnpm publish --access public\n")),(0,s.kt)("h3",{id:"gestion-des-versions-1"},"Gestion des versions"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Incr\xe9menter la version automatiquement\nnpm version patch  # 1.0.0 -> 1.0.1\nnpm version minor  # 1.0.1 -> 1.1.0\nnpm version major  # 1.1.0 -> 2.0.0\n\n# Version pr\xe9releases\nnpm version prerelease  # 1.0.0 -> 1.0.1-0\nnpm version prepatch    # 1.0.0 -> 1.0.1-0\nnpm version preminor    # 1.0.0 -> 1.1.0-0\nnpm version premajor    # 1.0.0 -> 2.0.0-0\n\n# Version avec identifiant\nnpm version prerelease --preid=alpha  # 1.0.0 -> 1.0.1-alpha.0\nnpm version prerelease --preid=beta   # 1.0.1-alpha.0 -> 1.0.1-beta.0\n")),(0,s.kt)("h2",{id:"-alternatives-\xe0-npm"},"\ud83d\udd0d Alternatives \xe0 NPM"),(0,s.kt)("h3",{id:"yarn"},"Yarn"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Installation\nnpm install -g yarn\n\n# Commandes \xe9quivalentes\nyarn                    # npm install\nyarn add express        # npm install express\nyarn add -D jest        # npm install --save-dev jest\nyarn remove express     # npm uninstall express\nyarn upgrade            # npm update\n\n# Avantages de Yarn\n# - Plus rapide (cache offline)\n# - yarn.lock plus d\xe9terministe\n# - Workspaces natifs\n# - Meilleure gestion des versions\n")),(0,s.kt)("h3",{id:"pnpm"},"pnpm"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Installation\nnpm install -g pnpm\n\n# Commandes \xe9quivalentes\npnpm install           # npm install\npnpm add express       # npm install express\npnpm remove express    # npm uninstall express\n\n# Avantages de pnpm\n# - \xc9conomise l'espace disque (liens symboliques)\n# - Plus rapide que npm et yarn\n# - Meilleure gestion des peer dependencies\n# - Compatible avec npm\n")),(0,s.kt)("h2",{id:"-bonnes-pratiques"},"\ud83c\udfaf Bonnes pratiques"),(0,s.kt)("h3",{id:"structure-de-projet"},"Structure de projet"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"mon-projet/\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 package-lock.json\n\u251c\u2500\u2500 .npmrc\n\u251c\u2500\u2500 .npmignore\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 index.js\n\u2502   \u251c\u2500\u2500 lib/\n\u2502   \u2514\u2500\u2500 utils/\n\u251c\u2500\u2500 test/\n\u2502   \u251c\u2500\u2500 unit/\n\u2502   \u2514\u2500\u2500 integration/\n\u251c\u2500\u2500 docs/\n\u251c\u2500\u2500 examples/\n\u2514\u2500\u2500 scripts/\n    \u251c\u2500\u2500 build.js\n    \u2514\u2500\u2500 deploy.js\n")),(0,s.kt)("h3",{id:"fichier-npmignore"},"Fichier .npmignore"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# .npmignore\nsrc/\ntest/\ndocs/\nexamples/\n.env*\n.git*\n*.log\nnode_modules/\ncoverage/\n.nyc_output/\n.cache/\ndist/dev/\n*.test.js\n*.spec.js\n")),(0,s.kt)("h3",{id:"scripts-de-qualit\xe9"},"Scripts de qualit\xe9"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "scripts": {\n    // Linting et formatting\n    "lint": "eslint src/ test/",\n    "lint:fix": "eslint src/ test/ --fix",\n    "format": "prettier --write \\"**/*.{js,json,md}\\"",\n    "format:check": "prettier --check \\"**/*.{js,json,md}\\"",\n    \n    // Tests\n    "test": "jest",\n    "test:watch": "jest --watch",\n    "test:coverage": "jest --coverage",\n    "test:ci": "jest --ci --coverage --watchAll=false",\n    \n    // Validation\n    "validate": "npm run lint && npm run format:check && npm test",\n    "ci": "npm ci && npm run validate",\n    \n    // Hooks Git\n    "pre-commit": "lint-staged",\n    "pre-push": "npm run validate"\n  }\n}\n')),(0,s.kt)("h2",{id:"\ufe0f-outils-utiles"},"\ud83d\udee0\ufe0f Outils utiles"),(0,s.kt)("h3",{id:"packages-de-d\xe9veloppement-essentiels"},"Packages de d\xe9veloppement essentiels"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Outils de d\xe9veloppement\nnpm install -D nodemon          # Red\xe9marrage automatique\nnpm install -D concurrently     # Ex\xe9cution parall\xe8le\nnpm install -D cross-env        # Variables env cross-platform\nnpm install -D rimraf           # Suppression cross-platform\nnpm install -D npm-run-all      # Orchestration de scripts\n\n# Qualit\xe9 de code\nnpm install -D eslint           # Linting JavaScript\nnpm install -D prettier         # Formatting de code\nnpm install -D husky            # Hooks Git\nnpm install -D lint-staged      # Lint sur fichiers staged\n\n# Tests\nnpm install -D jest             # Framework de test\nnpm install -D supertest        # Tests HTTP\nnpm install -D nyc              # Coverage de code\n\n# Build et bundling\nnpm install -D webpack          # Module bundler\nnpm install -D babel            # Transpiler JavaScript\nnpm install -D typescript       # Typage statique\n")),(0,s.kt)("h3",{id:"packages-production-populaires"},"Packages production populaires"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Serveur web\nnpm install express             # Framework web\nnpm install fastify             # Alternative rapide \xe0 Express\nnpm install koa                 # Framework moderne\n\n# Base de donn\xe9es\nnpm install mongoose            # MongoDB ODM\nnpm install prisma              # ORM moderne\nnpm install sequelize           # ORM SQL\n\n# Authentification\nnpm install passport            # Strat\xe9gies d'auth\nnpm install jsonwebtoken        # JWT\nnpm install bcryptjs            # Hash de mots de passe\n\n# Utilitaires\nnpm install lodash              # Utilitaires JavaScript\nnpm install moment              # Manipulation de dates\nnpm install axios               # Client HTTP\nnpm install dotenv              # Variables d'environnement\n")),(0,s.kt)("h2",{id:"-d\xe9pannage-courant"},"\ud83d\udc1b D\xe9pannage courant"),(0,s.kt)("h3",{id:"probl\xe8mes-fr\xe9quents"},"Probl\xe8mes fr\xe9quents"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Erreur EACCES (permissions)\nsudo chown -R $(whoami) ~/.npm\nnpm config set prefix ~/.npm-global\n\n# Erreur MODULE_NOT_FOUND\nnpm install\nnpm ci  # Si package-lock.json existe\n\n# Cache corrompu\nnpm cache clean --force\nrm -rf node_modules package-lock.json\nnpm install\n\n# Version Node.js incompatible\nnvm use 16  # Avec nvm\nn 16       # Avec n\n\n# Proxy d'entreprise\nnpm config set proxy http://proxy.company.com:8080\nnpm config set https-proxy http://proxy.company.com:8080\n\n# Registre priv\xe9\nnpm config set registry https://npm.mycompany.com/\nnpm login --registry=https://npm.mycompany.com/\n")),(0,s.kt)("h3",{id:"commandes-de-diagnostic"},"Commandes de diagnostic"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# Informations syst\xe8me\nnpm doctor\n\n# Configuration actuelle\nnpm config list\nnpm config list -l  # Configuration compl\xe8te\n\n# Chemins importants\nnpm config get prefix\nnpm config get cache\nnpm root -g\n\n# Logs d\xe9taill\xe9s\nnpm install --loglevel verbose\nnpm install --loglevel silly\n")),(0,s.kt)("h2",{id:"-exercices-pratiques"},"\ud83c\udfaf Exercices pratiques"),(0,s.kt)("h3",{id:"exercice-1--cr\xe9er-un-package-utilitaire"},"Exercice 1 : Cr\xe9er un package utilitaire"),(0,s.kt)("p",null,"Cr\xe9e un package NPM qui contient des utilitaires JavaScript :"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript"},"// src/index.js\nexport function formatDate(date, locale = 'fr-FR') {\n  return new Intl.DateTimeFormat(locale).format(date);\n}\n\nexport function slugify(text) {\n  return text\n    .toLowerCase()\n    .replace(/[^a-z0-9]+/g, '-')\n    .replace(/^-|-$/g, '');\n}\n\nexport function debounce(func, wait) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Objectifs :")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Configurer package.json correctement"),(0,s.kt)("li",{parentName:"ul"},"Ajouter des tests avec Jest"),(0,s.kt)("li",{parentName:"ul"},"Configurer ESLint et Prettier"),(0,s.kt)("li",{parentName:"ul"},"Publier sur NPM (ou registre priv\xe9)")),(0,s.kt)("h3",{id:"exercice-2--script-de-build-complexe"},"Exercice 2 : Script de build complexe"),(0,s.kt)("p",null,"Cr\xe9e un script de build qui :"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Nettoie le dossier dist/"),(0,s.kt)("li",{parentName:"ul"},"Transpile le code avec Babel"),(0,s.kt)("li",{parentName:"ul"},"Minifie le JavaScript"),(0,s.kt)("li",{parentName:"ul"},"G\xe9n\xe8re la documentation"),(0,s.kt)("li",{parentName:"ul"},"Cr\xe9\xe9 un package pr\xeat pour la production")),(0,s.kt)("h3",{id:"exercice-3--workspace-monorepo"},"Exercice 3 : Workspace monorepo"),(0,s.kt)("p",null,"Configure un monorepo avec :"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Un package partag\xe9 (utils)"),(0,s.kt)("li",{parentName:"ul"},"Une API (backend)"),(0,s.kt)("li",{parentName:"ul"},"Une application web (frontend)"),(0,s.kt)("li",{parentName:"ul"},"Scripts pour build/test/deploy l'ensemble")),(0,s.kt)("hr",null),(0,s.kt)("div",{className:"admonition admonition-success alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"F\xe9licitations ! \ud83c\udf89")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"Tu ma\xeetrises maintenant NPM ! C'est un outil ",(0,s.kt)("strong",{parentName:"p"},"essentiel")," dans l'\xe9cosyst\xe8me JavaScript. Continue \xe0 explorer les packages disponibles et n'h\xe9site pas \xe0 cr\xe9er tes propres packages pour partager ton code avec la communaut\xe9."))),(0,s.kt)("h2",{id:"-ressources-utiles"},"\ud83d\udd17 Ressources utiles"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"\ud83d\udcd6 ",(0,s.kt)("a",{parentName:"li",href:"https://docs.npmjs.com/"},"Documentation officielle NPM")),(0,s.kt)("li",{parentName:"ul"},"\ud83d\udd0d ",(0,s.kt)("a",{parentName:"li",href:"https://www.npmjs.com/"},"Recherche de packages")),(0,s.kt)("li",{parentName:"ul"},"\ud83d\udcca ",(0,s.kt)("a",{parentName:"li",href:"https://www.npmtrends.com/"},"NPM Trends")," - Comparer la popularit\xe9 des packages"),(0,s.kt)("li",{parentName:"ul"},"\ud83d\udd12 ",(0,s.kt)("a",{parentName:"li",href:"https://docs.npmjs.com/security/"},"NPM Security")," - Bonnes pratiques s\xe9curit\xe9"),(0,s.kt)("li",{parentName:"ul"},"\ud83d\udee0\ufe0f ",(0,s.kt)("a",{parentName:"li",href:"https://github.com/sindresorhus/awesome-npm"},"Awesome NPM")," - Liste de ressources"),(0,s.kt)("li",{parentName:"ul"},"\ud83d\udcf1 ",(0,s.kt)("a",{parentName:"li",href:"https://desktop.npmjs.com/"},"NPM Desktop")," - Interface graphique")),(0,s.kt)("p",null,"NPM est bien plus qu'un simple gestionnaire de packages - c'est l'\xe9pine dorsale de l'\xe9cosyst\xe8me JavaScript moderne ! \ud83d\ude80"))}u.isMDXComponent=!0}}]);